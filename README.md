# 8주차 과제 체크포인트

## 기본 과제

### 필수

- [x] 반복 유형 선택
  - 일정 생성 또는 수정 시 반복 유형을 선택할 수 있다.
  - 반복 유형은 다음과 같다: 매일, 매주, 매월, 매년
    - 만약, 윤년 29일에 또는 31일에 매월 또는 매년 반복일정을 설정한다면 어떻게 처리할까요? 다른 서비스를 참고해보시고 자유롭게 작성해보세요.
- [x] 반복 간격 설정
  - 각 반복 유형에 대해 간격을 설정할 수 있다.
  - 예: 2일마다, 3주마다, 2개월마다 등
- [x] 반복 일정 표시
  - 캘린더 뷰에서 반복 일정을 시각적으로 구분하여 표시한다.
    - 아이콘을 넣든 태그를 넣든 자유롭게 해보세요!
- [x] 반복 종료
  - 반복 종료 조건을 지정할 수 있다.
  - 옵션: 특정 날짜까지, 특정 횟수만큼, 또는 종료 없음 (예제 특성상, 2025-09-30까지)
- [x] 반복 일정 단일 수정
  - 반복일정을 수정하면 단일 일정으로 변경됩니다.
  - 반복일정 아이콘도 사라집니다.
- [x] 반복 일정 단일 삭제
  - 반복일정을 삭제하면 해당 일정만 삭제합니다.

### 선택

- [ ] 예외 날짜 처리:
  - 반복 일정 중 특정 날짜를 제외할 수 있다.
  - 반복 일정 중 특정 날짜의 일정을 수정할 수 있다.
- [ ] 요일 지정 (주간 반복의 경우):
  - 주간 반복 시 특정 요일을 선택할 수 있다.
- [ ] 월간 반복 옵션:
  - 매월 특정 날짜에 반복되도록 설정할 수 있다.
  - 매월 특정 순서의 요일에 반복되도록 설정할 수 있다.
- [ ] 반복 일정 전체 수정 및 삭제
  - 반복 일정의 모든 일정을 수정할 수 있다.
  - 반복 일정의 모든 일정을 삭제할 수 있다.

## 심화 과제

예솔 - https://github.com/hanghae-plus/front_5th_chapter3-2/pull/63

- [x] 이 앱에 적합한 테스트 전략을 만들었나요?

이번 일정 관리 앱의 특성과 반복 일정 기능의 도입을 고려하여 기능의 안정성과 사용자 경험을 보장할 수 있는 테스트 전략을 수립하였습니다. 단위 테스트와 통합 테스트를 중심으로 구성하였습니다. 특히 Form 기반의 일정 생성/수정 과정에서는 입력 유효성 테스트의 중요성이 강조되어 해당 항목에 대해 우선적으로 테스트를 보완하였습니다.

### 각 팀원들의 테스트 전략은?

<details> 
<summary>재연 https://github.com/hanghae-plus/front_5th_chapter3-2/pull/26</summary>

TDD로 정상 흐름 테스트는 이미 커버되어 있다고 판단하고, 추가로 다음 항목 중심으로 보완 제안:
- 경계값 테스트 (빈 문자열, null, 0, -1, 최대 길이 초과 등)
- 에러 처리 테스트 (서버 500, 네트워크 실패 등)
- UI 상호작용 테스트 (조건부 렌더링, 버튼 상태 등)
- 커버리지 미비 영역 보완 (else, catch, default)
- 사용자 플로우 중심 통합 테스트(E2E)

</details>

<details> 
<summary>혜원 https://github.com/hanghae-plus/front_5th_chapter3-2/pull/9</summary>

- 전략 키워드: “통합 중심, 단위 보완”
- 단위 테스트: 유틸 함수, 훅, 조건부 렌더링 중심
- 통합 테스트: 사용자 인터랙션과 상태 흐름 중심
- 선택적 E2E: 로그인, 결제 등 주요 플로우 검증
- 일정 앱은 E2E보다는 단위/통합 테스트에 집중

</details>

<details> 
<summary>정민 https://github.com/hanghae-plus/front_5th_chapter3-2/pull/45</summary>

- 목표: 반복 일정 추가/수정/삭제 기능 정상 동작 보장
- 테스트 범위: 반복 유형 선택, 간격 설정, API 요청, 종료 조건, 캘린더 UI 반영, 알림
- 테스트 유형:
- 단위 테스트: 유효성 검사, 날짜 계산, UI 분기 로직 등
- 통합 테스트: API 요청, 렌더링 확인
- 선택적 E2E: 등록→렌더링→수정→삭제 전체 플로우 검증

</details>

<details> 
<summary>하연 https://github.com/hanghae-plus/front_5th_chapter3-2/pull/63</summary>

- 흐름 중심의 테스트 구성
- 요구사항 분석
- API 응답 구조 파악
- 유닛 테스트 → 통합 테스트 → 필요시 E2E
- 순차적으로 기능 개발과 병행하여 테스트 작성

</details>

<details> 
<summary>경민 https://github.com/hanghae-plus/front_5th_chapter3-2/pull/19</summary>

- UI 의존도(캘린더, 토스트 등)가 높기 때문에 E2E가 필요하다고 주장
- 반복 유형, 간격, 종료, 수정/삭제 등 6가지 기능 흐름 기반으로 시나리오 구성
- 단위/통합 중심으로 진행하되, 주요 UI 플로우는 통합 테스트 이상으로 검증할 필요가 있다고 판단

</details>

#### 유빈
- 유효성 검사 및 경계값 테스트의 중요성 강조
- 단일 페이지 구조이므로 단위 테스트로 충분하다고 봄
- 시각적 요소가 많은 기능에 대해서는 비주얼 테스트를 제안
- 반복 종료일 유효성, 잘못된 간격 입력 등에 대한 테스트 코드 및 유틸 구현

### 합의된 테스트 전략과 그 이유는 무엇인가요?
“단위 테스트 + 통합 테스트를 기본 구조로 하고, 사용자 흐름 또는 시각적 요소에 대해서는 선택적으로 통합 테스트를 수행한다.”

### 추가로 작성된 테스트 코드는 어떤 것들이 있나요?
#### 기능 안정성 확보
일정 관리 앱은 입력(Form), 상태 관리, 렌더링(UI) 등 복합적인 기능이 유기적으로 작동해야 하므로 단위와 통합 수준에서 안정성을 검증해야 합니다.

#### 입력 유효성 테스트의 중요성
사용자가 잘못된 값을 쉽게 입력할 수 있는 Form 구조이며, 클라이언트 단에서 조기 검증이 필수입니다. UX 향상 및 서버 오류 방지 차원에서도 반드시 필요합니다.

#### 반복 일정 기능의 복잡도 고려
윤년, 31일, 반복 종료일 등 다양한 예외 케이스를 포함하고 있어 경계값 및 예외 처리가 중요하며, 테스트로 검증되어야 합니다.

#### 시각적 요소에 대한 신뢰성 확보
반복 일정 렌더링, 알림 도달 시 아이콘 표시 등 UI 요소의 조건부 렌더링을 확인하기 위해 정밀한 통합 테스트가 필요합니다.

---

## 과제 셀프회고

이번 주차에는 지난 주차에 이어 테스트 코드를 작성하였고, TDD 방식으로 개발을 진행하였다. 추가 기능 구현뿐만 아니라 MSW 설정까지 직접 맡아야 했기 때문에 다소 어려움을 겪었다. 초반에는 TDD 방식을 잊고 기능 구현부터 시작했으나, 중간에 이를 인지하고 다시 테스트 코드를 먼저 작성하는 방식으로 전환하였다. 저번 주차에 일정 관리 앱을 충분히 사용해본 경험이 있음에도 불구하고, 테스트 없이 기능부터 구현했을 때 오히려 더 많은 시간이 소요되어 어려움을 느꼈다. 낯선 방식이긴 했지만, 결과적으로는 TDD의 장점을 체감할 수 있었고, 나름대로 **TDD 만세**를 외치게 된 한 주였다. 
또한, 팀원들과 함께 심화 과제를 진행하면서 일정 생성/수정 폼이 주요 기능 중 하나였기 때문에 유효성 테스트를 작성했다. 이러한 형태의 서비스에서는 어떤 테스트가 적절할지 고민해보게 되었고, 향후 실제 서비스에서도 테스트를 도입할 때 우리 서비스에 맞는 방향을 먼저 고려해야겠다는 생각을 하게 됐다.


### 기술적 성장

<!-- 예시
- 새로 학습한 개념
- 기존 지식의 재발견/심화
- 구현 과정에서의 기술적 도전과 해결
-->
- TDD를 실제로 적용하며 테스트 우선 개발의 중요성과 효과를 체감했다.
- 반복 일정 기능의 예외 케이스(윤년, 종료일 등)를 유틸 함수와 테스트 코드로 검증하는 과정에서 경계값 처리의 중요성을 학습했다.
- 조건부 렌더링, 토스트 메시지, 버튼 상태 등 UI 상호작용 테스트를 구현하면서 사용자 인터랙션 테스트에 대한 이해를 높였다.
- Form 상태(`isRepeating`, `repeatType`, `editingEvent` 등)를 기반으로 요청 구조를 동적으로 바꾸는 로직을 직접 설계하면서 조건 분기 흐름을 명확히 이해하게 되었다.


### 코드 품질

<!-- 예시
- 특히 만족스러운 구현
- 리팩토링이 필요한 부분
- 코드 설계 관련 고민과 결정
-->
- `useRepeatEventOperations` 훅에서 API 호출, 예외 처리, 토스트 메시지를 분리하며 코드의 책임을 명확히 구분했다.
- `saveRepeatEvents`와 `saveEvent`를 분리하고, `addOrUpdateEvent` 내 조건 분기를 통해 상황에 따라 적절히 호출하도록 구성했다.
```
if (editingEvent && isRepeating) {
  await saveRepeatEvents(eventData);
} else if (!editingEvent && isRepeating && eventData.repeat.type !== 'none') {
  await saveRepeatEvents(eventData);
} else {
  await saveEvent(eventData);
}
```
- 반복 일정 관련 유틸 함수(`generateRecurringEvents`)를 기능별로 나누어 테스트 가능성과 재사용성을 높였다.
- 이벤트 생성/수정 폼의 유효성 검사 로직이 View에 섞여 있는 점을 확인했고, 추후에는 별도의 유틸 함수로 분리할 필요성을 느꼈다.
- `App.tsx` 구조를 이전 구현에서 가져와 적용했으면 더 빠르게 개발할 수 있었겠지만, 반복 일정 로직에 대한 고민으로 인해 놓친 점이 아쉬웠다.
- 중복된 `eventData` 생성 로직이 여러 곳에 분산되어 있음을 확인했고, 이를 하나의 유틸 또는 커스텀 훅으로 통합할 수 있다고 판단했다.
- 단일 수정 시 repeat 정보 처리 과정에서 사용자 기대와 실제 데이터 처리 간 불일치를 조율하는 경험이 인상 깊었다.


### 학습 효과 분석

- TDD를 적용하면서 기능 구현 전 예외 조건과 기대 동작을 먼저 정의하는 습관이 생겼다.
- 테스트 코드 없이 기능을 구현하면 오히려 시간이 더 걸리고 버그 발생 가능성이 높다는 점을 체감했다.
- 반복 일정 기능처럼 복잡한 로직은 유틸 함수 분리 및 테스트 작성이 유지보수에 큰 도움이 된다는 점을 확인했다.
- `React Testing Library`를 사용하면서 조건부 렌더링과 data-testid 속성을 활용한 명확한 엘리먼트 타깃팅 방법을 더 학습해야겠다고 느꼈다.


### 과제 피드백

<!-- 예시
- 과제에서 모호하거나 애매했던 부분
- 과제에서 좋았던 부분
-->
- 과제 범위 내에서 자유롭게 TDD, 통합 테스트, MSW 등을 적용할 수 있었던 점이 좋았고, 반복 일정 기능처럼 난이도 있는 기능을 테스트하면서 충분한 도전 의식을 가질 수 있었다.
- E2E 테스트나 UI 테스트를 해보는 과제도 해보고 싶었는데 아쉽다. 


## 리뷰 받고 싶은 내용

- `addOrUpdateEvent` 함수의 조건 분기와 로직이 복잡해 보이는데, 책임을 분리하거나 가독성을 높일 수 있는 구조적 개선 방안이 궁금합니다. 
- 또한, `saveRepeatEvents`와 `saveEvent`의 분리 방식이 현재 구조에 적합한지, 하나의 통합 save 핸들러로 구성하는 것이 더 나을지에 대해서도 의견을 듣고 싶습니다.
- 좋은 회사를 고르는 기준은 무엇이라고 생각하시나요? (예: 안정성, 성장 가능성, 복지, 기술 수준 등) 저는 스타트업만 다녀봤는데 ‘성장할 수 있는 회사’도 좋은 회사라고 생각하지만, 최근에는 불안정한 회사에 있었던 경험 때문에 안정성 있는 회사를 찾게 됩니다.
→ 이런 상황에서 어떤 기준을 우선시하는 게 좋을까요?
현실적으로 내가 들어갈 수 있는 회사 중에서 고민할 때, 성장성과 안정성을 어떻게 균형 있게 고려하면 좋을까요? 
- 요즘 회사에 퇴사하는 분들이 많아지면서 전반적인 분위기가 좋지 않습니다. 저도 이전부터 이직을 준비해오고 있었지만, 불안한 마음에 아무 회사에라도 들어가야 하나 고민이 되기도 합니다. 그래도 이왕 준비하는 거라면, 열심히 준비해서 좋은 곳으로 가고 싶다는 생각이 큽니다. 해야 할 공부는 많은데, 이력서도 아직 미흡하다고 느껴지고, 코딩 테스트나 과제, 기술 면접 등 준비할 것들이 산더미처럼 느껴집니다. 항해하면서 배운 것들은 정말 많지만, 정작 지금 당장 해야 할 공부를 놓치고 있는 건 아닌가 하는 생각도 들고요. 속상한 마음에 이렇게 몇 글자 적어보게 되네요... 
